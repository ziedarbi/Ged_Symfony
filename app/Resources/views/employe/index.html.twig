{% extends 'base.html.twig' %}
 

     {% block contentheader %}
       <section class="content-header">
         <h1>
           Gestion Personel

         </h1>
         <ol class="breadcrumb">
           <li><a href=""><i class="fa fa-dashboard"></i> Accueil</a></li>
           <li class="active">Liste des personnels  </li>
         </ol>
       </section>

     {% endblock %}

{% block Maincontent %}
  <section class="invoice">
    <!-- title row -->


    <div class="row">

      <div class="box box-primary">
        <div class="box-header with-border">
          <h3 class="box-title">Liste des employ√©s  </h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
            </button>
            <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
          </div>
        </div>

        <div class="box-body">
          <div class="chart">

            <div class="col-xs-12 table-responsive">
              <div class="row"> <a    class="btn btn-default" href="{{ path('employe_new') }}"> Ajouter Personel</a> </div>
              <br/>
              <table  id="tablisteemployes" class="table table-bordered table-hover">

                <thead>
                <tr>
                  <th>Matricule</th>
                  <th>Cin</th>

                  <th>Nom</th>
                  <th>Prenom</th>
                  <th>direction</th>
                  <th>Service</th>
                  <th>Poste</th>
                  <th>agence</th>
                  <th>Contrat</th>



                  <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for employe in employes %}
                  <tr>
                    <td>{{ employe.matricule }}</td>
                    <td>{{ employe.cin }}</td>

                    <td>{{ employe.nom }}</td>
                    <td>{{ employe.prenom }}</td>
                    <td>{{ employe.direction }}</td>
                    <td>{{ employe.service }}</td>
                    <td>{{ employe.emploioccupe }}</td>
                    <td>{{ employe.agence}}</td>
                    <td>{{ employe.naturecontrat}}</td>



                    <td>


                          <a href="{{ path('employe_show', { 'id': employe.id }) }}"><i class="fa fa-eye primary" aria-hidden="true"></i></a>
                        {% if is_granted('ROLE_ADMIN') %}
                      &nbsp;
                          <a href="{{ path('employe_edit', { 'id': employe.id }) }}"> <i class="fa fa-edit" aria-hidden="true"></i></a>

                          <a href="{{ path('employe_delete', { 'id': employe.id }) }}"> <i  style="color: red;" class="fa fa-remove" aria-hidden="true"></i></a>
{% endif %}

                    </td>
                  </tr>
                {% endfor %}
                </tbody>
              </table>

            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

{% endblock %}
{% block javascripts %}
<script>
    $(function () {
        $('#tablisteemployes').DataTable({
                "pageLength": 10
            }
        )})

</script>

{% endblock %}